<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Monitoramento Observer</title>
    <link rel="stylesheet" href="../css/style_dash.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <div class="container-painel">
        <div class="barra-lateral">
            <div class="secao-logo">
                <img src="../img/logo.png" alt="Logo Observer" class="logo">
            </div>

            <div class="secao-ifood">
                <img src="../img/images.jpg" alt="Logo iFOOD" class="logo-redondo">
                <h2 class="nome-empresa">IFOOD</h2>
                <p class="email-empresa">ifood@empresa.com</p>
            </div>

            <div class="secao-filtro">
                <h3 class="titulo-filtro">Filtro do Tempo:</h3>
                <div class="opcao-filtro">
                    <input type="checkbox" id="tempo-real" name="tempo-real" checked>
                    <label for="tempo-real">Tempo real</label>
                </div>
                <div class="opcao-filtro">
                    <input type="checkbox" id="7-dias" name="7-dias">
                    <label for="7-dias">7 dias</label>
                </div>
                <div class="opcao-filtro">
                    <input type="checkbox" id="15-dias" name="15-dias">
                    <label for="15-dias">15 dias</label>
                </div>
            </div>

            <div class="secao-filtro">
                <h3 class="titulo-filtro">Filtro de Salas:</h3>
                <div class="opcao-filtro">
                    <input type="checkbox" id="sala-1" name="sala-1" checked>
                    <label for="sala-1">Sala 1</label>
                </div>
                <div class="opcao-filtro">
                    <input type="checkbox" id="sala-2" name="sala-2">
                    <label for="sala-2">Sala 2</label>
                </div>
                <div class="opcao-filtro">
                    <input type="checkbox" id="sala-3" name="sala-3">
                    <label for="sala-3">Sala 3</label>
                </div>
            </div>

            <button class="botao-sair">Sair</button>
            <div class="engrenagem">
               <h1> <i class='bx bx-cog'></i></h1>
            </div>
            
        </div>
        <div class="conteudo-principal">
            <div class="cabecalho">
                <h1>Monitoramento de Temperatura e Umidade - Sala 01</h1>
                <div class="data-hora">22/04/2025 - 18:00</div>
            </div>

            <div class="cartoes-status">
                <div class="cartao-status">
                    <h3>Temperatura média do ambiente</h3>
                    <div class="valor">23°C <img src="https://cdn-icons-png.flaticon.com/512/190/190411.png" alt="OK" class="icone-status"></div>
                </div>
                <div class="cartao-status">
                    <h3>Umidade média do ambiente</h3>
                    <div class="valor">44% <img src="https://cdn-icons-png.flaticon.com/512/190/190411.png" alt="OK" class="icone-status"></div>
                </div>
                <div class="cartao-status">
                    <h3>Última Atualização</h3>
                    <div class="valor">há 5 segundos</div>
                </div>
            </div>

            <div class="container-graficos">
                <div class="grafico-wrapper">
                    <h2>TEMPERATURA MÉDIA</h2>
                    <canvas id="grafico-temperatura" width="1000" height="250"></canvas>
                </div>
                <div class="grafico-wrapper">
                    <h2>UMIDADE MÉDIA</h2>
                    <canvas id="grafico-umidade" width="1000" height="250"></canvas>
                </div>
            </div>

            <div class="legenda">
                <div class="item-legenda">
                    <img src="https://cdn-icons-png.flaticon.com/512/190/190411.png" alt="OK" class="icone-status">
                    <p>OK</p>
                    <small>Temperatura: 18°C a 27°C<br>Umidade: 40% a 60%</small>
                    
                </div>
                <div class="item-legenda">
                    <img src="https://cdn-icons-png.flaticon.com/512/564/564619.png" alt="Alert" class="icone-status">
                    <p>Alerta</p>
                    <small>Temperatura:<br> &lt;17.9°C ou &gt;27.1°C</small>
                </div>
                <div class="item-legenda">
                    <img src="https://cdn-icons-png.flaticon.com/512/753/753345.png" alt="Critical" class="icone-status">
                    <p>Crítico</p>
                    <small>Temperatura: &lt;15°C ou &gt;30°C<br>Umidade: &lt;40% ou &gt;60%</small>
                </div>
            </div>
        </div>

        <div class="secao-alertas">
            <div class="sensores-inativos">
                <h2 >Sensores Inativos</h2>
                <div class="valor">2/60</div>
            </div>

            <h2>ALERTAS</h2>
            <div class="item-alerta">
                <img src="https://cdn-icons-png.flaticon.com/512/564/564619.png" alt="Alert" class="icone-status">
                <div class="conteudo-alerta">
                    <div class="hora-alerta">22/04/2025 - 12h00</div>
                    <div class="local-alerta">Sala 01 - Rack 19 - Sensor A</div>
                    <div class="tipo-alerta">Alerta de Temperatura</div>
                    <div class="valor-alerta">T: 29,0°</div>
                </div>
            </div>
            <div class="item-alerta2">
                <img src="https://cdn-icons-png.flaticon.com/512/753/753345.png" alt="Critical" class="icone-status">
                <div class="conteudo-alerta">
                    <div class="hora-alerta">22/04/2025 - 13h00</div>
                    <div class="local-alerta">Sala 03 - Rack 02 - Sensor H</div>
                    <div class="tipo-alerta">Alerta de Temperatura e Umidade</div>
                    <div class="valor-alerta">T: 28,3° U: 70%</div>
                </div>
            </div>
            <button class="botao-historico">Histórico</button>
        </div>
    </div>

<!-- Apenas o script dos gráficos foi atualizado abaixo -->
<script>
    const ctxTemp = document.getElementById('grafico-temperatura');
    new Chart(ctxTemp, {
        type: 'line',
        data: {
            labels: ['04h','06h', '08h', '10h', '12h', '14h', '16h', '18h','20h','22h'],
            datasets: [{
                label: '',
                data: [20, 18, 20, 23, 29, 25, 23, 20, 21, 23],
                backgroundColor: 'transparent',
                tension: 0.4,
                pointBackgroundColor: '#0cc0df',
                borderColor: '#0cc0df'
            }]
        },
        options: {
            layout: {
                padding: {
                    top: 10,
                    bottom: 10,
                    left: 10,
                    right: 10
                }
            },
            plugins: {
                legend: {
                    display: false
                },
                datalabels: {
                    align: 'top',
                    anchor: 'end',
                    color: '#000',
                    font: {
                        weight: 'bold',
                        size: 12
                    },
                    formatter: Math.round
                }
            },
            interaction: {
                mode: 'index'
            },
            scales: {
                x: {
                    title: {
                        display: true,
                        text: 'Horário do dia',
                        color: '#000',
                        font: {
                            size: 14,
                            weight: 'bold'
                        }
                    },
                    ticks: {
                        color: '#000',
                        font: {
                            size: 12
                        }
                    },
                    grid: {
                        color: 'rgba(0,0,0,0.05)'
                    }
                },
                y: {
                    beginAtZero: true,
                    min: 0,
                    max: 40,
                    title: {
                        display: true,
                        text: 'Temperatura (°C)',
                        color: '#000',
                        font: {
                            size: 14,
                            weight: 'bold'
                        }
                    },
                    ticks: {
                        stepSize: 10,
                        color: '#000',
                        font: {
                            size: 12
                        }
                    },
                    grid: {
                        color: 'rgba(0,0,0,0.05)'
                    }
                }
            }
        },
        plugins: [ChartDataLabels]
    });

    const ctxUmid = document.getElementById('grafico-umidade');
    new Chart(ctxUmid, {
        type: 'line',
        data: {
            labels: ['04h', '06h', '08h', '10h', '12h', '14h', '16h', '18h', '20h', '22h'],
            datasets: [{
                label: '',
                data: [42, 43, 43, 44, 45, 45, 44, 45, 41, 43],
                backgroundColor: 'transparent',
                tension: 0.4,
                pointBackgroundColor: '#0cc0df',
                borderColor: '#0cc0df'
            }]
        },
        options: {
            layout: {
                padding: {
                    top: 10,
                    bottom: 10,
                    left: 10,
                    right: 10
                }
            },
            plugins: {
                legend: {
                    display: false
                },
                datalabels: {
                    align: 'top',
                    anchor: 'end',
                    color: '#000',
                    font: {
                        weight: 'bold',
                        size: 12
                    },
                    formatter: Math.round
                }
            },
            interaction: {
                mode: 'index'
            },
            scales: {
                x: {
                    title: {
                        display: true,
                        text: 'Horário do dia',
                        color: '#000',
                        font: {
                            size: 14,
                            weight: 'bold'
                        }
                    },
                    ticks: {
                        color: '#000',
                        font: {
                            size: 12
                        }
                    },
                    grid: {
                        color: 'rgba(0,0,0,0.05)'
                    }
                },
                y: {
                    beginAtZero: true,
                    min: 0,
                    max: 70,
                    title: {
                        display: true,
                        text: 'Umidade (%)',
                        color: '#000',
                        font: {
                            size: 14,
                            weight: 'bold'
                        }
                    },
                    ticks: {
                        stepSize: 10,
                        color: '#000',
                        font: {
                            size: 12
                        }
                    },
                    grid: {
                        color: 'rgba(0,0,0,0.05)'
                    }
                }
            }
        },
        plugins: [ChartDataLabels]
    });
</script>
